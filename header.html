<!-- header.html -->
<header id="site-header" role="banner" class="bg-emerald-900 text-white shadow-md relative">
  <style>
    /* Make sure header and Learn dropdown are always on top */
    #site-header {
      position: relative;
      z-index: 9999999;
    }
    #site-header .learn-dropdown-wrapper {
      position: absolute;
      z-index: 9999999;
    }
    #site-header .learn-dropdown-menu {
      z-index: 9999999;
    }
  </style>

  <a class="sr-only focus:not-sr-only absolute left-2 top-2 z-50 bg-white text-emerald-800 px-3 py-2 rounded" href="#main">
    Skip to content
  </a>

  <nav class="container mx-auto flex justify-between items-center py-4 px-6" role="navigation" aria-label="Main navigation">
    <!-- Logo -->
    <a href="/index.html" class="flex items-center">
      <img src="/images/logo.png" alt="Gems of Nature Logo" class="h-12 w-auto" loading="lazy">
      <span class="ml-3 text-2xl font-bold">Gems of Nature</span>
    </a>

    <!-- Desktop Links -->
    <ul class="hidden md:flex gap-6 text-lg" role="menubar" aria-label="Primary">
      <li role="none">
        <a role="menuitem" href="/index.html" class="hover:text-emerald-300 transition">Home</a>
      </li>
      <li role="none">
        <a role="menuitem" href="/about.html" class="hover:text-emerald-300 transition">About Us</a>
      </li>
      <li role="none">
        <a role="menuitem" href="/shop.html" class="hover:text-emerald-300 transition">Collections</a>
      </li>

      <!-- LEARN DROPDOWN -->
      <li class="relative group" role="none">
        <button
          class="hover:text-emerald-300 transition cursor-pointer inline-flex items-center gap-1"
          aria-haspopup="true"
          aria-expanded="false"
          aria-controls="learn-menu">
          Learn â–¾
        </button>

        <div class="learn-dropdown-wrapper left-0 top-full pt-2">
          <ul id="learn-menu"
              class="learn-dropdown-menu hidden group-hover:block bg-white text-gray-800 shadow-xl rounded-lg py-2 w-56"
              role="menu"
              aria-label="Learn submenu">
            <li role="none">
              <a role="menuitem" href="/guides/gemstone-basics.html" class="block px-4 py-2 hover:bg-emerald-50">
                Gemstone Basics
              </a>
            </li>
            <li role="none">
              <a role="menuitem" href="/guides/how-to-choose.html" class="block px-4 py-2 hover:bg-emerald-50">
                How to Choose a Stone
              </a>
            </li>
            <li role="none">
              <a role="menuitem" href="/guides/chakras-stones.html" class="block px-4 py-2 hover:bg-emerald-50">
                Chakras &amp; Stones
              </a>
            </li>
            <li role="none">
              <a role="menuitem" href="/guides/rudraksha-guide.html" class="block px-4 py-2 hover:bg-emerald-50">
                Rudraksha Guide
              </a>
            </li>
            <li role="none">
              <a role="menuitem" href="/guides/how-to-wear-care.html" class="block px-4 py-2 hover:bg-emerald-50">
                How to Wear &amp; Care
              </a>
            </li>
          </ul>
        </div>
      </li>

      <li role="none">
        <a role="menuitem" href="/contact.html" class="hover:text-emerald-300 transition">Contact</a>
      </li>
      <li role="none">
        <a role="menuitem" href="/astrology.consultation.html" class="hover:text-emerald-300 transition">
          Astrology &amp; Consultation
        </a>
      </li>
    </ul>

    <!-- Right: Buy Online + Cart + Mobile -->
    <div class="flex items-center gap-4">
      <a href="/shop-ecom.html"
         class="hidden md:inline-block bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg font-semibold">
        Buy Online
      </a>

      <!-- Cart with badge + dropdown -->
      <div class="relative text-2xl group">
        <button type="button" aria-label="Cart" class="relative">
          <span class="sr-only">View cart</span>
          <span aria-hidden="true">ðŸ›’</span>

          <span id="cartCount"
            class="absolute -top-2 -right-3 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
            0
          </span>
          <span id="cartCountLabel" class="sr-only">0 items in cart</span>
        </button>

        <!-- Mini cart dropdown -->
        <div
          class="hidden group-hover:block absolute right-0 mt-3 w-80 bg-white text-gray-800 rounded-2xl shadow-xl p-4 text-sm z-[99999999]">
          <h3 class="text-sm font-semibold mb-2">Your Cart</h3>

          <div id="cart-items-mini" class="max-h-60 overflow-auto space-y-2 text-xs">
            <p class="text-gray-500">Your cart is empty.</p>
          </div>

          <div class="mt-3 flex items-center justify-between text-xs">
            <span class="font-semibold">Total</span>
            <span id="cart-total-mini" class="font-bold">â‚¹0</span>
          </div>

          <div class="mt-3 flex gap-2">
            <a href="/checkout.html"
               class="flex-1 text-center bg-emerald-600 text-white rounded-lg py-2 text-xs font-semibold hover:bg-emerald-700">
              Continue Checkout
            </a>
            <button id="clear-cart-mini"
                    class="px-3 py-2 text-xs border rounded-lg flex-shrink-0 hover:bg-gray-50">
              Clear Cart
            </button>
          </div>
        </div>
      </div>

      <button id="mobile-menu-button" class="text-2xl md:hidden focus:outline-none" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open mobile menu">
        â˜°
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden bg-emerald-800 md:hidden" role="navigation" aria-label="Mobile navigation">
    <ul class="flex flex-col gap-4 px-6 py-4">
      <li><a href="/index.html" class="block py-1.5 hover:text-emerald-300 transition">Home</a></li>
      <li><a href="/about.html" class="block py-1.5 hover:text-emerald-300 transition">About Us</a></li>
      <li><a href="/shop.html" class="block py-1.5 hover:text-emerald-300 transition">Collections</a></li>
      <li><a href="/shop-ecom.html" class="block py-1.5 hover:text-emerald-300 transition">Buy Online</a></li>

      <!-- Mobile Learn section -->
      <li class="pt-2 mt-1 text-xs font-semibold uppercase tracking-wide text-emerald-200">Learn</li>
      <li><a href="/guides/gemstone-basics.html" class="block py-1.5 hover:text-emerald-300 transition">Gemstone Basics</a></li>
      <li><a href="/guides/how-to-choose.html" class="block py-1.5 hover:text-emerald-300 transition">How to Choose a Stone</a></li>
      <li><a href="/guides/chakras-stones.html" class="block py-1.5 hover:text-emerald-300 transition">Chakras &amp; Stones</a></li>
      <li><a href="/guides/rudraksha-guide.html" class="block py-1.5 hover:text-emerald-300 transition">Rudraksha Guide</a></li>
      <li><a href="/guides/how-to-wear-care.html" class="block py-1.5 hover:text-emerald-300 transition">How to Wear &amp; Care</a></li>

      <li class="pt-2 border-t border-emerald-700 mt-2"></li>

      <li><a href="/contact.html" class="block py-1.5 hover:text-emerald-300 transition">Contact</a></li>
      <li><a href="/astrology.consultation.html" class="block py-1.5 hover:text-emerald-300 transition">Astrology &amp; Consultation</a></li>
    </ul>
  </div>
</header>
